---
- name: Deploy
  hosts: all
  vars:
    ansible_python_interpreter: /usr/bin/python3

  tasks:
    - name: create directory app
      file: path=~/ansible-code/client-test/ state=directory

    - name: Deploy (Git)
      git:
         repo: "https://github.com/wagneroliveira/client.git"
         dest: ~/ansible-code/client-test
         force: yes
         
#     - name: Running NPM install
#       npm: path={{homeDir}}/{{appDir}}/backened
#       register: npm_finished
#       when: git_finished.changed

#     - name: Execute script to docker-compose
#       command: docker-compose -f /var/lib/awx/ansible/client-test/docker-compose.yml up -d
#       command: sh ~/ansible/client-test/rundockerized.sh
#       command: npm install

...

